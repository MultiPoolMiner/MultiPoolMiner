<!--#include file="/parts/head.html" -->
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
  <h1 id="title" data-navbaractive="navbestpools" class="h2">Best Pools</h1>
</div>
<p>Shows the pool for each algorithm that was selected as the most profitable</p>
<table id="pools" class="table"
  data-toggle="table"
  data-url="/pools"
  data-filter-control="true"
  data-filter-show-clear="true"
  data-sort-order="asc"
  data-sort-name="Algorithm"
  data-cache="false"
  data-show-columns="true"
  data-show-toggle="true"
  data-show-refresh="true"
  data-icons-prefix="fa"
  data-icons="icons"
  data-detail-view="true"
  data-detail-formatter="detailFormatter"
  data-response-handler="formatPools"
>
  <thead>
    <tr>
      <th data-field="Algorithm" data-sortable="true" data-filter-control="select">Algorithm</th>
      <th data-field="Name" data-sortable="true" data-filter-control="select">Name</th>
      <th data-field="Coin" data-sortable="true" data-filter-control="select">CoinName</th>
      <th data-field="Price" data-align="right" data-sortable="true" data-formatter="formatPrices">BTC/GH/Day</th>
      <th data-field="Host" data-sortable="true" data-filter-control="select">Host</th>
      <th data-field="Updated" data-sortable="true" data-formatter="formatDate">Last Updated</th>
    </tr>
  </thead>
</table>

<!-- End of page scripts -->
<script type="text/javascript">

  function formatPools(data) {
    data = data[0];
    var items = new Array();
    $.each(Object.keys(data), function (index, item) {
      items.push(data[item]);
    });
    return items;
  }

  function formatPrices(data) {
    return (data * 1000000000).toFixed(10);
  }
  
  function formatDate(data) {
    return timeSince(new Date(data));
    return new Date(parseInt(data.replace(/\D/g,''))).toLocaleString();
  }
</script>
<!--#include file="/parts/foot.html" -->