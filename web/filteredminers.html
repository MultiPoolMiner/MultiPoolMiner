<!--#include file="/parts/head.html" -->
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 id="title" class="h2" data-navbaractive="navfilteredminers">Filtered Miners</h1>
</div>
<div class="alert alert-info" role="alert">Shows all filtered miners. These will not be used for mining. To enable change the filter criteria.</div>

<table id="miners" class="table"
    data-icons="icons"
    data-url="/filteredminers"
    data-cache="false"
    data-toggle="table"
    data-response-handler="formatMiners"
    data-filter-control="true"
    data-show-search-clear-button="true"
    data-sort-order="asc"
    data-sort-name="Name"
    data-remember-order="true"
    data-filter-control="true"
    data-detail-formatter="detailFormatter"
    data-show-button-text="true"
    data-show-columns="true"
    data-show-refresh="true"
    data-detail-view="true"
    data-click-to-select="true">

    <thead>
        <tr>
            <th data-field="Name" data-sortable="true" data-filter-control="input" data-filter-strict-search="false">Name</th>
            <th data-field="BaseName" data-sortable="true" data-filter-control="select" data-filter-strict-search="false" data-visible="false">BaseName</th>
            <th data-field="Version" data-sortable="true" data-filter-control="select" data-filter-strict-search="false" data-visible="false">Version</th>
            <th data-field="API" data-sortable="true" data-filter-control="input" data-filter-strict-search="false" data-visible="false">API</th>
            <th data-field="Port" data-sortable="true" data-filter-control="select" data-visible="false">API Port</th>
            <th data-field="WarmupTime" data-sortable="true" data-filter-control="input" data-filter-strict-search="false" data-visible="false" data-width=3>WarmupTime</th>
            <th data-field="IntervalMultiplier" data-sortable="true" data-filter-control="input" data-filter-strict-search="false" data-visible="false" data-width=1>IntervalMultiplier</th>
            <th data-field="Reason" data-sortable="true" data-filter-control="select" data-filter-strict-search="true">Reason</th>
            <th data-field="tDevices" data-sortable="true" data-filter-control="select" data-filter-strict-search="true">Devices</th>
            <th data-field="tPrimaryAlgorithm" data-sortable="true" data-filter-control="select" data-filter-strict-search="true">Primary Algorithm</th>
            <th data-field="tPrimaryFee" data-align="right" data-sortable="true" data-filter-control="input" data-filter-strict-search="false" data-formatter="formatPercent" data-width=1>Fee&nbsp&nbsp</th>
            <th data-field="tSecondaryAlgorithm" data-sortable="true" data-filter-control="select" data-filter-strict-search="true">Secondary Algorithm</th>
            <th data-field="tSecondaryFee" data-align="right" data-sortable="true" data-filter-control="input" data-filter-strict-search="false" data-formatter="formatPercent" data-width=1>Fee&nbsp&nbsp</th>
        </tr>
    </thead>
</table>

<!-- Start of page scripts -->
<script type="text/javascript">
    function formatMiners(data) {
        // This function can alter the returned data before building the table, formatting it in a way
        // that is easier to display and manipulate in a table
        $.each(data, function(index, item) {
          item.Index = index;

          // Format the device(s)
          item.tDevices = item.DeviceName.toString();

          // Format the algorithms & fees
          var algorithms = Object.keys(item.HashRates);
          item.tPrimaryAlgorithm = algorithms[0];
          item.tSecondaryAlgorithm = algorithms[1];

          var fees = Object.values(item.Fees);
          item.tPrimaryFee = fees[0];
          item.tSecondaryFee = fees[1];
        });
        return data;
    }
</script>
<!-- End of page scripts -->
<!--#include file="/parts/foot.html" -->